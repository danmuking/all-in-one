## 流程
### 用户点赞/踩

1. 用户点赞/踩
2. 查询用户是否已经存在操作
   1. 存在相同操作，取消
   2. 存在相反操作，取消相反操作，在做当前操作
      1. 先查redis点赞用户缓存，如果没有从MySQL查
      2. 更新缓存，然后给rocketmq做异步插入
   3. 否则，点赞/踩
### 查询点赞数
## 表设计
### 点赞计数表
id，消息id，点赞数
### 点赞详细信息
id、用户id、消息id、操作类型、操作时间
![](https://raw.githubusercontent.com/danmuking/image/main/315538d2b150bf62e9be517590b1bd89.jpeg)
